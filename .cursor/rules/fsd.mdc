---
alwaysApply: true
---
## Feature-Sliced Design (FSD) Rules

1. **No inline comments**: Do not add inline comments in code. Code should be self-documenting through clear naming and structure.

2. **No barrel files**: Do not use barrel files (index.ts/index.tsx files that re-export modules). Import directly from the module file itself (e.g., `import { Component } from './Component'` instead of `import { Component } from './index'`).

3. **Use path aliases for shared imports**: Always use `@/shared` path alias instead of relative imports when importing from the shared layer (e.g., `import { formatCurrency } from '@/shared/lib/formatCurrency'` instead of `import { formatCurrency } from '../../shared/lib/formatCurrency'`).

4. **Use pnpm for package management**: Always use `pnpm` instead of `npm` for installing dependencies, running scripts, and other package management tasks (e.g., `pnpm install`, `pnpm test`, `pnpm dev`).

5. **No styling tests**: Do not write tests that verify CSS classes, styling, or visual appearance. Tests should focus on functionality, behavior, and logic, not implementation details like Tailwind classes or styling properties.

6. **Hooks in `hooks.ts` files**: All custom hooks for a feature should be placed in a `hooks.ts` file within the feature directory. Import hooks directly from `./hooks` (e.g., `import { useMakeGuess } from './hooks'`).

7. **Avoid synchronous setState in Effects**: Do not call setState synchronously within useEffect body. Effects should synchronize with external systems, not update state based on props/state changes. Instead: derive state during rendering, use `queueMicrotask()` to defer state updates, or use refs to track values without causing re-renders. See: https://react.dev/learn/you-might-not-need-an-effect
